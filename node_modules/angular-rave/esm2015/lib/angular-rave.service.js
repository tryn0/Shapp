/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable, Inject } from '@angular/core';
import { PBFPUBKEY_TOKEN, ENVIRONMENT_TOKEN } from './angular-rave-token';
import * as i0 from "@angular/core";
import * as i1 from "./angular-rave-token";
/**
 * @record
 */
function MyWindow() { }
if (false) {
    /** @type {?} */
    MyWindow.prototype.getpaidSetup;
}
/** @type {?} */
const PROD_URL = '//api.ravepay.co/flwv3-pug/getpaidx/api/flwpbf-inline.js';
/** @type {?} */
const DEV_URL = '//ravesandboxapi.flutterwave.com/flwv3-pug/getpaidx/api/flwpbf-inline.js';
export class AngularRaveService {
    /**
     * @param {?} PBFPubKey
     * @param {?} isDev
     */
    constructor(PBFPubKey, isDev) {
        this.PBFPubKey = PBFPubKey;
        this.isDev = isDev;
    }
    /**
     * @param {?} obj
     * @return {?}
     */
    createRaveOptionsObject(obj) {
        /** @type {?} */
        const raveOptions = {};
        raveOptions.amount = obj.amount;
        // raveOptions.hosted_payment = 1; // Modal should open in another page
        raveOptions.PBFPubKey = obj.PBFPubKey || this.PBFPubKey;
        if (obj.payment_method) {
            raveOptions.payment_method = obj.payment_method;
        }
        if (obj.redirect_url) {
            raveOptions.redirect_url = obj.redirect_url;
        }
        if (obj.integrity_hash) {
            raveOptions.integrity_hash = obj.integrity_hash;
        }
        if (obj.pay_button_text) {
            raveOptions.pay_button_text = obj.pay_button_text;
        }
        if (obj.country) {
            raveOptions.country = obj.country;
        }
        if (obj.currency) {
            raveOptions.currency = obj.currency;
        }
        if (obj.custom_description) {
            raveOptions.custom_description = obj.custom_description;
        }
        if (obj.customer_email) {
            raveOptions.customer_email = obj.customer_email;
        }
        if (obj.custom_logo) {
            raveOptions.custom_logo = obj.custom_logo;
        }
        if (obj.custom_title) {
            raveOptions.custom_title = obj.custom_title;
        }
        if (obj.customer_firstname) {
            raveOptions.customer_firstname = obj.customer_firstname;
        }
        if (obj.subaccount) {
            raveOptions.subaccount = obj.subaccount;
        }
        if (obj.customer_lastname) {
            raveOptions.customer_lastname = obj.customer_lastname;
        }
        if (obj.txref) {
            raveOptions.txref = obj.txref;
        }
        if (obj.customer_phone) {
            raveOptions.customer_phone = obj.customer_phone;
        }
        return raveOptions;
    }
    /**
     * @return {?}
     */
    loadScript() {
        return new Promise((/**
         * @param {?} resolve
         * @return {?}
         */
        resolve => {
            if (typeof window.getpaidSetup === 'function') {
                resolve();
                return;
            }
            /** @type {?} */
            const script = window.document.createElement('script');
            window.document.head.appendChild(script);
            /** @type {?} */
            const onLoadFunc = (/**
             * @return {?}
             */
            () => {
                script.removeEventListener('load', onLoadFunc);
                resolve();
            });
            script.addEventListener('load', onLoadFunc);
            /** @type {?} */
            const url = this.isDev ? DEV_URL : PROD_URL;
            script.setAttribute('src', url);
        }));
    }
    /**
     * @param {?} obj
     * @return {?}
     */
    isInvalidOptions(obj) {
        if (!obj.PBFPubKey && !this.PBFPubKey) {
            return 'ANGULAR-RAVE: Merchant public key is required';
        }
        if (!(obj.customer_email || obj.customer_phone)) {
            return 'ANGULAR-RAVE: Customer email or phone number is required';
        }
        if (!obj.txref) {
            return 'ANGULAR-RAVE: A unique transaction reference is required';
        }
        if (!obj.currency) {
            return 'ANGULAR-RAVE: Currency is required, Use "NGN" for naira';
        }
        if (!obj.amount) {
            return 'ANGULAR-RAVE: Amount to charge is required';
        }
        return '';
    }
}
AngularRaveService.decorators = [
    { type: Injectable, args: [{
                providedIn: 'root',
            },] }
];
/** @nocollapse */
AngularRaveService.ctorParameters = () => [
    { type: String, decorators: [{ type: Inject, args: [PBFPUBKEY_TOKEN,] }] },
    { type: Boolean, decorators: [{ type: Inject, args: [ENVIRONMENT_TOKEN,] }] }
];
/** @nocollapse */ AngularRaveService.ngInjectableDef = i0.ɵɵdefineInjectable({ factory: function AngularRaveService_Factory() { return new AngularRaveService(i0.ɵɵinject(i1.PBFPUBKEY_TOKEN), i0.ɵɵinject(i1.ENVIRONMENT_TOKEN)); }, token: AngularRaveService, providedIn: "root" });
if (false) {
    /**
     * @type {?}
     * @private
     */
    AngularRaveService.prototype.PBFPubKey;
    /**
     * @type {?}
     * @private
     */
    AngularRaveService.prototype.isDev;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhci1yYXZlLnNlcnZpY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9hbmd1bGFyLXJhdmUvIiwic291cmNlcyI6WyJsaWIvYW5ndWxhci1yYXZlLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRW5ELE9BQU8sRUFBRSxlQUFlLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQzs7Ozs7O0FBRTFFLHVCQUVDOzs7SUFEQyxnQ0FBaUU7OztNQUk3RCxRQUFRLEdBQUcsMERBQTBEOztNQUNyRSxPQUFPLEdBQUcsMEVBQTBFO0FBTTFGLE1BQU0sT0FBTyxrQkFBa0I7Ozs7O0lBRTdCLFlBQ21DLFNBQWlCLEVBQ2YsS0FBYztRQURoQixjQUFTLEdBQVQsU0FBUyxDQUFRO1FBQ2YsVUFBSyxHQUFMLEtBQUssQ0FBUztJQUMvQyxDQUFDOzs7OztJQUVMLHVCQUF1QixDQUFDLEdBQWdDOztjQUNoRCxXQUFXLEdBQWdDLEVBQUU7UUFDbkQsV0FBVyxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDO1FBQ2hDLHVFQUF1RTtRQUN2RSxXQUFXLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUN4RCxJQUFJLEdBQUcsQ0FBQyxjQUFjLEVBQUU7WUFBRSxXQUFXLENBQUMsY0FBYyxHQUFHLEdBQUcsQ0FBQyxjQUFjLENBQUM7U0FBRTtRQUM1RSxJQUFJLEdBQUcsQ0FBQyxZQUFZLEVBQUU7WUFBRSxXQUFXLENBQUMsWUFBWSxHQUFHLEdBQUcsQ0FBQyxZQUFZLENBQUM7U0FBRTtRQUN0RSxJQUFJLEdBQUcsQ0FBQyxjQUFjLEVBQUU7WUFBRSxXQUFXLENBQUMsY0FBYyxHQUFHLEdBQUcsQ0FBQyxjQUFjLENBQUM7U0FBRTtRQUM1RSxJQUFJLEdBQUcsQ0FBQyxlQUFlLEVBQUU7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QUMsR0FBRyxDQUFDLEtBQUssRUFBRTtZQUNkLE9BQU8sMERBQTBELENBQUM7U0FDbkU7UUFDRCxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRTtZQUNqQixPQUFPLHlEQUF5RCxDQUFDO1NBQ2xFO1FBQ0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUU7WUFDZixPQUFPLDRDQUE0QyxDQUFDO1NBQ3JEO1FBQ0QsT0FBTyxFQUFFLENBQUM7SUFDWixDQUFDOzs7WUFwRUYsVUFBVSxTQUFDO2dCQUNWLFVBQVUsRUFBRSxNQUFNO2FBQ25COzs7O3lDQUlJLE1BQU0sU0FBQyxlQUFlOzBDQUN0QixNQUFNLFNBQUMsaUJBQWlCOzs7Ozs7OztJQUR6Qix1Q0FBa0Q7Ozs7O0lBQ2xELG1DQUFpRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUsIEluamVjdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUHJpdmF0ZVJhdmVPcHRpb25zLCBSYXZlT3B0aW9ucyB9IGZyb20gJy4vcmF2ZS1vcHRpb25zJztcbmltcG9ydCB7IFBCRlBVQktFWV9UT0tFTiwgRU5WSVJPTk1FTlRfVE9LRU4gfSBmcm9tICcuL2FuZ3VsYXItcmF2ZS10b2tlbic7XG5cbmludGVyZmFjZSBNeVdpbmRvdyBleHRlbmRzIFdpbmRvdyB7XG4gIGdldHBhaWRTZXR1cDogKHJhdmVPcHRpb25zOiBQYXJ0aWFsPFByaXZhdGVSYXZlT3B0aW9ucz4pID0+IHZvaWQ7XG59XG5kZWNsYXJlIHZhciB3aW5kb3c6IE15V2luZG93O1xuXG5jb25zdCBQUk9EX1VSTCA9ICcvL2FwaS5yYXZlcGF5LmNvL2Zsd3YzLXB1Zy9nZXRwYWlkeC9hcGkvZmx3cGJmLWlubGluZS5qcyc7XG5jb25zdCBERVZfVVJMID0gJy8vcmF2ZXNhbmRib3hhcGkuZmx1dHRlcndhdmUuY29tL2Zsd3YzLXB1Zy9nZXRwYWlkeC9hcGkvZmx3cGJmLWlubGluZS5qcyc7XG5cblxuQEluamVjdGFibGUoe1xuICBwcm92aWRlZEluOiAncm9vdCcsXG59KVxuZXhwb3J0IGNsYXNzIEFuZ3VsYXJSYXZlU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgQEluamVjdChQQkZQVUJLRVlfVE9LRU4pIHByaXZhdGUgUEJGUHViS2V5OiBzdHJpbmcsXG4gICAgQEluamVjdChFTlZJUk9OTUVOVF9UT0tFTikgcHJpdmF0ZSBpc0RldjogYm9vbGVhbixcbiAgKSB7IH1cblxuICBjcmVhdGVSYXZlT3B0aW9uc09iamVjdChvYmo6IFBhcnRpYWw8UHJpdmF0ZVJhdmVPcHRpb25zPik6IFBhcnRpYWw8UHJpdmF0ZVJhdmVPcHRpb25zPiB7XG4gICAgY29uc3QgcmF2ZU9wdGlvbnM6IFBhcnRpYWw8UHJpdmF0ZVJhdmVPcHRpb25zPiA9IHt9O1xuICAgIHJhdmVPcHRpb25zLmFtb3VudCA9IG9iai5hbW91bnQ7XG4gICAgLy8gcmF2ZU9wdGlvbnMuaG9zdGVkX3BheW1lbnQgPSAxOyAvLyBNb2RhbCBzaG91bGQgb3BlbiBpbiBhbm90aGVyIHBhZ2VcbiAgICByYXZlT3B0aW9ucy5QQkZQdWJLZXkgPSBvYmouUEJGUHViS2V5IHx8IHRoaXMuUEJGUHViS2V5O1xuICAgIGlmIChvYmoucGF5bWVudF9tZXRob2QpIHsgcmF2ZU9wdGlvbnMucGF5bWVudF9tZXRob2QgPSBvYmoucGF5bWVudF9tZXRob2Q7IH1cbiAgICBpZiAob2JqLnJlZGlyZWN0X3VybCkgeyByYXZlT3B0aW9ucy5yZWRpcmVjdF91cmwgPSBvYmoucmVkaXJlY3RfdXJsOyB9XG4gICAgaWYgKG9iai5pbnRlZ3JpdHlfaGFzaCkgeyByYXZlT3B0aW9ucy5pbnRlZ3JpdHlfaGFzaCA9IG9iai5pbnRlZ3JpdHlfaGFzaDsgfVxuICAgIGlmIChvYmoucGF5X2J1dHRvbl90ZXh0KSB7IHJhdmVPcHRpb25zLnBheV9idXR0b25fdGV4dCA9IG9iai5wYXlfYnV0dG9uX3RleHQ7IH1cbiAgICBpZiAob2JqLmNvdW50cnkpIHsgcmF2ZU9wdGlvbnMuY291bnRyeSA9IG9iai5jb3VudHJ5OyB9XG4gICAgaWYgKG9iai5jdXJyZW5jeSkgeyByYXZlT3B0aW9ucy5jdXJyZW5jeSA9IG9iai5jdXJyZW5jeTsgfVxuICAgIGlmIChvYmouY3VzdG9tX2Rlc2NyaXB0aW9uKSB7IHJhdmVPcHRpb25zLmN1c3RvbV9kZXNjcmlwdGlvbiA9IG9iai5jdXN0b21fZGVzY3JpcHRpb247IH1cbiAgICBpZiAob2JqLmN1c3RvbWVyX2VtYWlsKSB7IHJhdmVPcHRpb25zLmN1c3RvbWVyX2VtYWlsID0gb2JqLmN1c3RvbWVyX2VtYWlsOyB9XG4gICAgaWYgKG9iai5jdXN0b21fbG9nbykgeyByYXZlT3B0aW9ucy5jdXN0b21fbG9nbyA9IG9iai5jdXN0b21fbG9nbzsgfVxuICAgIGlmIChvYmouY3VzdG9tX3RpdGxlKSB7IHJhdmVPcHRpb25zLmN1c3RvbV90aXRsZSA9IG9iai5jdXN0b21fdGl0bGU7IH1cbiAgICBpZiAob2JqLmN1c3RvbWVyX2ZpcnN0bmFtZSkgeyByYXZlT3B0aW9ucy5jdXN0b21lcl9maXJzdG5hbWUgPSBvYmouY3VzdG9tZXJfZmlyc3RuYW1lOyB9XG4gICAgaWYgKG9iai5zdWJhY2NvdW50KSB7IHJhdmVPcHRpb25zLnN1YmFjY291bnQgPSBvYmouc3ViYWNjb3VudDsgfVxuICAgIGlmIChvYmouY3VzdG9tZXJfbGFzdG5hbWUpIHsgcmF2ZU9wdGlvbnMuY3VzdG9tZXJfbGFzdG5hbWUgPSBvYmouY3VzdG9tZXJfbGFzdG5hbWU7IH1cbiAgICBpZiAob2JqLnR4cmVmKSB7IHJhdmVPcHRpb25zLnR4cmVmID0gb2JqLnR4cmVmOyB9XG4gICAgaWYgKG9iai5jdXN0b21lcl9waG9uZSkgeyByYXZlT3B0aW9ucy5jdXN0b21lcl9waG9uZSA9IG9iai5jdXN0b21lcl9waG9uZTsgfVxuICAgIHJldHVybiByYXZlT3B0aW9ucztcbiAgfVxuXG4gIGxvYWRTY3JpcHQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuZ2V0cGFpZFNldHVwID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2NyaXB0ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgd2luZG93LmRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICAgIGNvbnN0IG9uTG9hZEZ1bmMgPSAoKSA9PiB7XG4gICAgICAgIHNjcmlwdC5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgb25Mb2FkRnVuYyk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH07XG4gICAgICBzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9uTG9hZEZ1bmMpO1xuICAgICAgY29uc3QgdXJsID0gdGhpcy5pc0RldiA/IERFVl9VUkwgOiBQUk9EX1VSTDtcbiAgICAgIHNjcmlwdC5zZXRBdHRyaWJ1dGUoJ3NyYycsIHVybCk7XG4gICAgfSk7XG4gIH1cblxuICBpc0ludmFsaWRPcHRpb25zKG9iajogUGFydGlhbDxSYXZlT3B0aW9ucz4pOiBzdHJpbmcge1xuICAgIGlmICghb2JqLlBCRlB1YktleSAmJiAhdGhpcy5QQkZQdWJLZXkpIHtcbiAgICAgIHJldHVybiAnQU5HVUxBUi1SQVZFOiBNZXJjaGFudCBwdWJsaWMga2V5IGlzIHJlcXVpcmVkJztcbiAgICB9XG4gICAgaWYgKCEob2JqLmN1c3RvbWVyX2VtYWlsIHx8IG9iai5jdXN0b21lcl9waG9uZSkpIHtcbiAgICAgIHJldHVybiAnQU5HVUxBUi1SQVZFOiBDdXN0b21lciBlbWFpbCBvciBwaG9uZSBudW1iZXIgaXMgcmVxdWlyZWQnO1xuICAgIH1cbiAgICBpZiAoIW9iai50eHJlZikge1xuICAgICAgcmV0dXJuICdBTkdVTEFSLVJBVkU6IEEgdW5pcXVlIHRyYW5zYWN0aW9uIHJlZmVyZW5jZSBpcyByZXF1aXJlZCc7XG4gICAgfVxuICAgIGlmICghb2JqLmN1cnJlbmN5KSB7XG4gICAgICByZXR1cm4gJ0FOR1VMQVItUkFWRTogQ3VycmVuY3kgaXMgcmVxdWlyZWQsIFVzZSBcIk5HTlwiIGZvciBuYWlyYSc7XG4gICAgfVxuICAgIGlmICghb2JqLmFtb3VudCkge1xuICAgICAgcmV0dXJuICdBTkdVTEFSLVJBVkU6IEFtb3VudCB0byBjaGFyZ2UgaXMgcmVxdWlyZWQnO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH1cblxufVxuIl19