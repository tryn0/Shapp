{"version":3,"file":"angular-rave.js","sources":["ng://angular-rave/lib/angular-rave-token.ts","ng://angular-rave/lib/angular-rave.service.ts","ng://angular-rave/lib/angular-rave.component.ts","ng://angular-rave/lib/angular-rave.directive.ts","ng://angular-rave/lib/angular-rave.module.ts"],"sourcesContent":["import { InjectionToken } from '@angular/core';\n\nexport const PBFPUBKEY_TOKEN = new InjectionToken<string>('Rave.PBFPubKey');\n\nexport const ENVIRONMENT_TOKEN = new InjectionToken<string>('Rave.IsDevelopment');\n","import { Injectable, Inject } from '@angular/core';\nimport { PrivateRaveOptions, RaveOptions } from './rave-options';\nimport { PBFPUBKEY_TOKEN, ENVIRONMENT_TOKEN } from './angular-rave-token';\n\ninterface MyWindow extends Window {\n  getpaidSetup: (raveOptions: Partial<PrivateRaveOptions>) => void;\n}\ndeclare var window: MyWindow;\n\nconst PROD_URL = '//api.ravepay.co/flwv3-pug/getpaidx/api/flwpbf-inline.js';\nconst DEV_URL = '//ravesandboxapi.flutterwave.com/flwv3-pug/getpaidx/api/flwpbf-inline.js';\n\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AngularRaveService {\n\n  constructor(\n    @Inject(PBFPUBKEY_TOKEN) private PBFPubKey: string,\n    @Inject(ENVIRONMENT_TOKEN) private isDev: boolean,\n  ) { }\n\n  createRaveOptionsObject(obj: Partial<PrivateRaveOptions>): Partial<PrivateRaveOptions> {\n    const raveOptions: Partial<PrivateRaveOptions> = {};\n    raveOptions.amount = obj.amount;\n    // raveOptions.hosted_payment = 1; // Modal should open in another page\n    raveOptions.PBFPubKey = obj.PBFPubKey || this.PBFPubKey;\n    if (obj.payment_method) { raveOptions.payment_method = obj.payment_method; }\n    if (obj.redirect_url) { raveOptions.redirect_url = obj.redirect_url; }\n    if (obj.integrity_hash) { raveOptions.integrity_hash = obj.integrity_hash; }\n    if (obj.pay_button_text) { raveOptions.pay_button_text = obj.pay_button_text; }\n    if (obj.country) { raveOptions.country = obj.country; }\n    if (obj.currency) { raveOptions.currency = obj.currency; }\n    if (obj.custom_description) { raveOptions.custom_description = obj.custom_description; }\n    if (obj.customer_email) { raveOptions.customer_email = obj.customer_email; }\n    if (obj.custom_logo) { raveOptions.custom_logo = obj.custom_logo; }\n    if (obj.custom_title) { raveOptions.custom_title = obj.custom_title; }\n    if (obj.customer_firstname) { raveOptions.customer_firstname = obj.customer_firstname; }\n    if (obj.subaccount) { raveOptions.subaccount = obj.subaccount; }\n    if (obj.customer_lastname) { raveOptions.customer_lastname = obj.customer_lastname; }\n    if (obj.txref) { raveOptions.txref = obj.txref; }\n    if (obj.customer_phone) { raveOptions.customer_phone = obj.customer_phone; }\n    return raveOptions;\n  }\n\n  loadScript(): Promise<void> {\n    return new Promise(resolve => {\n      if (typeof window.getpaidSetup === 'function') {\n        resolve();\n        return;\n      }\n      const script = window.document.createElement('script');\n      window.document.head.appendChild(script);\n      const onLoadFunc = () => {\n        script.removeEventListener('load', onLoadFunc);\n        resolve();\n      };\n      script.addEventListener('load', onLoadFunc);\n      const url = this.isDev ? DEV_URL : PROD_URL;\n      script.setAttribute('src', url);\n    });\n  }\n\n  isInvalidOptions(obj: Partial<RaveOptions>): string {\n    if (!obj.PBFPubKey && !this.PBFPubKey) {\n      return 'ANGULAR-RAVE: Merchant public key is required';\n    }\n    if (!(obj.customer_email || obj.customer_phone)) {\n      return 'ANGULAR-RAVE: Customer email or phone number is required';\n    }\n    if (!obj.txref) {\n      return 'ANGULAR-RAVE: A unique transaction reference is required';\n    }\n    if (!obj.currency) {\n      return 'ANGULAR-RAVE: Currency is required, Use \"NGN\" for naira';\n    }\n    if (!obj.amount) {\n      return 'ANGULAR-RAVE: Amount to charge is required';\n    }\n    return '';\n  }\n\n}\n","import { Component, EventEmitter, Input, Output, OnInit } from '@angular/core';\nimport { PrivateRaveOptions, PaymentSetup, RaveOptions } from './rave-options';\nimport { AngularRaveService } from './angular-rave.service';\n\ninterface MyWindow extends Window {\n  getpaidSetup: (raveOptions: Partial<PrivateRaveOptions>) => PaymentSetup;\n}\n\ndeclare var window: MyWindow;\n\n@Component({\n  selector: 'angular-rave', // tslint:disable-line\n  template: `<ng-content></ng-content>`\n})\n\nexport class AngularRaveComponent implements OnInit {\n  @Input() amount: number;\n  @Input() autoClose: boolean;\n  @Input() country: string;\n  @Input() currency: string;\n  @Input() custom_description: string;\n  @Input() custom_logo: string;\n  @Input() custom_title: string;\n  @Input() customer_email: string;\n  @Input() customer_firstname: string;\n  @Input() customer_lastname: string;\n  @Input() customer_phone: string;\n  @Input() integrity_hash: string;\n  @Input() meta: any;\n  @Input() pay_button_text: string;\n  @Input() payment_method: string;\n  @Input() PBFPubKey: string;\n  @Input() raveOptions: Partial<PrivateRaveOptions>;\n  @Input() redirect_url: string;\n  @Input() subaccount: { id: string, transaction_split_ratio: string }[];\n  @Input() txref: string;\n  @Output() onclose: EventEmitter<void> = new EventEmitter<void>();\n  @Output() callback: EventEmitter<object> = new EventEmitter<object>();\n  @Output() init: EventEmitter<object> = new EventEmitter<object>();\n  private _raveOptions: Partial<PrivateRaveOptions> = {};\n  private paymentSetup: PaymentSetup;\n\n  constructor(private raveService: AngularRaveService) { }\n\n  async pay() {\n    let errorExists = false;\n    if (this.raveOptions && Object.keys(this.raveOptions).length > 1) {\n      errorExists = this.checkInvalidOptions(this.raveOptions);\n      this.insertRaveOptions(this.raveOptions);\n    } else {\n      errorExists = this.checkInvalidOptions(this);\n      this.insertRaveOptions(this);\n    }\n    if (errorExists) { return; }\n    await this.raveService.loadScript();\n    this.paymentSetup = window.getpaidSetup(this._raveOptions);\n    if (this.init.observers.length > 0) {\n      this.init.emit(this.paymentSetup);\n    }\n  }\n\n  checkInvalidOptions(object: Partial<RaveOptions>): boolean {\n    const optionsInvalid = this.raveService.isInvalidOptions(object);\n    if (optionsInvalid) {\n      console.error(optionsInvalid);\n    }\n    return optionsInvalid !== '';\n  }\n\n  insertRaveOptions(object: Partial<RaveOptions>) {\n    this._raveOptions = this.raveService.createRaveOptionsObject(object);\n    if (this.onclose) { this._raveOptions.onclose = () => this.onclose.emit(); }\n    this._raveOptions.callback = (res) => {\n      this.onclose.emit(res);\n      if (this.autoClose) {\n        this.paymentSetup.close();\n      }\n    };\n  }\n\n  ngOnInit() {\n    this.pay();\n  }\n}\n","import { Directive, Input, Output, HostListener, EventEmitter } from '@angular/core';\n\nimport { PrivateRaveOptions, PaymentSetup, RaveOptions } from './rave-options';\nimport { AngularRaveService } from './angular-rave.service';\n\ninterface MyWindow extends Window {\n  getpaidSetup: (raveOptions: Partial<PrivateRaveOptions>) => PaymentSetup;\n}\n\ndeclare var window: MyWindow;\n\n@Directive({\n  selector: '[angular-rave]', // tslint:disable-line\n})\nexport class AngularRaveDirective {\n  @Input() amount: number;\n  @Input() autoClose: boolean;\n  @Input() country: string;\n  @Input() currency: string;\n  @Input() custom_description: string;\n  @Input() custom_logo: string;\n  @Input() custom_title: string;\n  @Input() customer_email: string;\n  @Input() customer_firstname: string;\n  @Input() customer_lastname: string;\n  @Input() customer_phone: string;\n  @Input() integrity_hash: string;\n  @Input() meta: any;\n  @Input() pay_button_text: string;\n  @Input() payment_method: string;\n  @Input() PBFPubKey: string;\n  @Input() raveOptions: Partial<PrivateRaveOptions> = {};\n  @Input() redirect_url: string;\n  @Input() subaccount: { id: string, transaction_split_ratio: string }[];\n  @Input() txref: string;\n  @Output() onclose: EventEmitter<void> = new EventEmitter<void>();\n  @Output() callback: EventEmitter<any> = new EventEmitter<any>();\n  @Output() init: EventEmitter<object> = new EventEmitter<object>();\n  private _raveOptions: Partial<PrivateRaveOptions> = {};\n  private paymentSetup: PaymentSetup;\n\n  constructor(private raveService: AngularRaveService) { }\n\n  @HostListener('click')\n  buttonClick() {\n    this.pay();\n  }\n\n  async pay() {\n    let errorExists = false;\n    if (this.raveOptions && Object.keys(this.raveOptions).length > 1) {\n      errorExists = this.checkInvalidOptions(this.raveOptions);\n      this.insertRaveOptions(this.raveOptions);\n    } else {\n      errorExists = this.checkInvalidOptions(this);\n      this.insertRaveOptions(this);\n    }\n    if (errorExists) { return; }\n    await this.raveService.loadScript();\n    this.paymentSetup = window.getpaidSetup(this._raveOptions);\n    if (this.init.observers.length > 0) {\n      this.init.emit(this.paymentSetup);\n    }\n  }\n\n  checkInvalidOptions(object: Partial<RaveOptions>): boolean {\n    const optionsInvalid = this.raveService.isInvalidOptions(object);\n    if (optionsInvalid) {\n      console.error(optionsInvalid);\n    }\n    return optionsInvalid !== '';\n  }\n\n  insertRaveOptions(object: Partial<RaveOptions>) {\n    this._raveOptions = this.raveService.createRaveOptionsObject(object);\n    if (this.onclose) { this._raveOptions.onclose = () => this.onclose.emit(); }\n    this._raveOptions.callback = (res) => {\n      this.onclose.emit(res);\n      if (this.autoClose) {\n        this.paymentSetup.close();\n      }\n    };\n  }\n\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AngularRaveComponent } from './angular-rave.component';\nimport { AngularRaveDirective } from './angular-rave.directive';\nimport { AngularRaveService } from './angular-rave.service';\nimport { PBFPUBKEY_TOKEN, ENVIRONMENT_TOKEN } from './angular-rave-token';\nimport { RaveRootOptions } from './rave-options';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [AngularRaveDirective, AngularRaveComponent],\n  exports: [AngularRaveDirective, AngularRaveComponent],\n})\nexport class AngularRaveModule {\n  static forRoot(options: RaveRootOptions): ModuleWithProviders {\n    return {\n      ngModule: AngularRaveModule,\n      providers: [\n        AngularRaveService,\n        { provide: PBFPUBKEY_TOKEN, useValue: options.key },\n        { provide: ENVIRONMENT_TOKEN, useValue: options.isTest }\n      ]\n    };\n  }\n}\n"],"names":["MyWindow"],"mappings":"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"}